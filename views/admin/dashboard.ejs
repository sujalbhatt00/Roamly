<% layout("layouts/boilerplate") %>

<style>
    /* --- Base Styles & Variables --- */
    :root {
        --roamly-red: #E54D42;
        --roamly-blue: #3b82f6;
        --roamly-green: #22c55e;
        --roamly-red-light: #fee2e2;
        --roamly-blue-light: #dbeafe;
        --roamly-green-light: #dcfce7;
        --roamly-gray-50: #f9fafb;
        --roamly-gray-500: #6b7280;
        --roamly-gray-800: #1f2937;
        --roamly-gray-900: #111827;
        --roamly-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        --roamly-shadow-hover: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }

    .admin-dashboard-body {
        min-height: 100vh;
        background-color: var(--roamly-gray-50);
        padding: 2rem;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }

    .admin-container {
        max-width: 80rem; /* Replaces max-w-7xl */
        margin-left: auto;
        margin-right: auto;
    }

    /* --- Header --- */
    .admin-header {
        font-size: 1.875rem; /* text-3xl */
        font-weight: 700; /* font-bold */
        color: var(--roamly-gray-900);
        margin-bottom: 2rem; /* mb-8 */
    }

    /* --- Stats Grid --- */
    .stats-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem; /* gap-6 */
        margin-bottom: 2.5rem; /* mb-10 */
    }

    .stat-card {
        background-color: #ffffff;
        padding: 1.5rem; /* p-6 */
        border-radius: 0.75rem; /* rounded-xl */
        box-shadow: var(--roamly-shadow);
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
    }

    .stat-card:hover {
        box-shadow: var(--roamly-shadow-hover);
    }

    .stat-icon-wrapper {
        flex-shrink: 0;
        padding: 0.75rem; /* p-3 */
        border-radius: 9999px; /* rounded-full */
        margin-right: 1rem; /* space-x-4 */
    }

    .stat-icon-wrapper svg {
        height: 1.75rem; /* h-7 */
        width: 1.75rem; /* w-7 */
    }

    /* Card-specific colors */
    .stat-card.users .stat-icon-wrapper { background-color: var(--roamly-red-light); }
    .stat-card.users .stat-icon-wrapper svg { color: var(--roamly-red); }
    
    .stat-card.listings .stat-icon-wrapper { background-color: var(--roamly-blue-light); }
    .stat-card.listings .stat-icon-wrapper svg { color: var(--roamly-blue); }

    .stat-card.bookings .stat-icon-wrapper { background-color: var(--roamly-green-light); }
    .stat-card.bookings .stat-icon-wrapper svg { color: var(--roamly-green); }


    .stat-card-text p:first-child {
        font-size: 1rem; /* text-base */
        font-weight: 500; /* font-medium */
        color: var(--roamly-gray-500);
    }

    .stat-card-text p:last-child {
        font-size: 1.875rem; /* text-3xl */
        font-weight: 700; /* font-bold */
        color: var(--roamly-gray-900);
        line-height: 1;
    }

    /* --- Management Section --- */
    .management-header {
        font-size: 1.5rem; /* text-2xl */
        font-weight: 600; /* font-semibold */
        color: var(--roamly-gray-800);
        margin-bottom: 1.25rem; /* mb-5 */
    }

    .management-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem; /* gap-6 */
    }

    .management-card {
        background-color: #ffffff;
        padding: 1.5rem; /* p-6 */
        border-radius: 0.75rem; /* rounded-xl */
        box-shadow: var(--roamly-shadow);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .management-card:hover {
        box-shadow: var(--roamly-shadow-hover);
        transform: scale(1.05);
    }

    .management-icon-wrapper {
        margin-bottom: 1rem; /* mb-4 */
        padding: 1rem; /* p-4 */
        border-radius: 9999px; /* rounded-full */
        transition: all 0.3s ease;
    }

    .management-icon-wrapper svg {
        height: 2.5rem; /* h-10 */
        width: 2.5rem; /* w-10 */
        transition: all 0.3s ease;
    }

    .management-card-title {
        font-size: 1.125rem; /* text-lg */
        font-weight: 600; /* font-semibold */
        color: var(--roamly-gray-800);
    }

    .management-card-subtitle {
        font-size: 0.875rem; /* text-sm */
        color: var(--roamly-gray-500);
        margin-top: 0.25rem; /* mt-1 */
    }

    /* Management Card specific colors */
    .management-card.users .management-icon-wrapper { background-color: var(--roamly-red-light); }
    .management-card.users .management-icon-wrapper svg { color: var(--roamly-red); }
    .management-card.users:hover .management-icon-wrapper { background-color: var(--roamly-red); }
    .management-card.users:hover .management-icon-wrapper svg { color: #ffffff; }

    .management-card.listings .management-icon-wrapper { background-color: var(--roamly-blue-light); }
    .management-card.listings .management-icon-wrapper svg { color: var(--roamly-blue); }
    .management-card.listings:hover .management-icon-wrapper { background-color: var(--roamly-blue); }
    .management-card.listings:hover .management-icon-wrapper svg { color: #ffffff; }

    .management-card.bookings .management-icon-wrapper { background-color: var(--roamly-green-light); }
    .management-card.bookings .management-icon-wrapper svg { color: var(--roamly-green); }
    .management-card.bookings:hover .management-icon-wrapper { background-color: var(--roamly-green); }
    .management-card.bookings:hover .management-icon-wrapper svg { color: #ffffff; }


    /* --- Responsive Media Queries --- */
    @media (min-width: 640px) {
        .admin-dashboard-body {
            padding: 2rem; /* sm:p-8 */
        }
    }
    
    @media (min-width: 768px) {
        .stats-grid {
            grid-template-columns: repeat(3, 1fr); /* md:grid-cols-3 */
        }
        .management-grid {
            grid-template-columns: repeat(3, 1fr); /* md:grid-cols-3 */
        }
    }

</style>

<div class="admin-dashboard-body">
    <div class="admin-container">
        
        <!-- Page Header -->
        <h1 class="admin-header">
            Admin Dashboard
        </h1>

        <!-- Stats Cards Grid -->
        <div class="stats-grid">
            
            <!-- Total Users Card -->
            <div class="stat-card users">
                <div class="stat-icon-wrapper">
                    <!-- Heroicon: Users -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.53-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.003c0 1.113.285 2.16.786 3.07M15 19.128c-1.113 0-2.16-.285-3.07-.786M7.5 8.25c0-1.113.285-2.16.786-3.07M7.5 8.25v.003c0 1.113.285 2.16.786 3.07M7.5 8.25c-1.113 0-2.16-.285-3.07-.786M7.5 8.25c1.113 0 2.16.285 3.07.786m0 0v.003c0-1.113-.285-2.16-.786-3.07M16.5 13.5c0-1.113-.285-2.16-.786-3.07M16.5 13.5v.003c0 1.113.285 2.16.786 3.07M16.5 13.5c-1.113 0-2.16-.285-3.07-.786M16.5 13.5c1.113 0 2.16.285 3.07.786m0 0v.003c0-1.113-.285-2.16-.786-3.07" />
                    </svg>
                </div>
                <div class="stat-card-text">
                    <p>Total Users</p>
                    <p><%= userCount %></p>
                </div>
            </div>

            <!-- Total Listings Card -->
            <div class="stat-card listings">
                <div class="stat-icon-wrapper">
                    <!-- Heroicon: Home Modern -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5A2.25 2.25 0 0 0 21 18.75V8.25A2.25 2.25 0 0 0 18.75 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h4.5M12 13.5h.008v.008H12v-.008Z" />
                    </svg>
                </div>
                <div class="stat-card-text">
                    <p>Total Listings</p>
                    <p><%= listingCount %></p>
                </div>
            </div>

            <!-- Total Bookings Card -->
            <div class="stat-card bookings">
                <div class="stat-icon-wrapper">
                    <!-- Heroicon: Calendar Days -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
                    </svg>                      
                </div>
                <div class="stat-card-text">
                    <p>Total Bookings</p>
                    <p><%= bookingCount %></p>
                </div>
            </div>

        </div>

        <!-- Management Links Section -->
        <h2 class="management-header">
            Management Tools
        </h2>
        <div class="management-grid">
            
            <!-- Manage Users Link Card -->
            <a href="/admin/users" class="management-card users">
                 <div class="management-icon-wrapper">
                    <!-- Heroicon: User Group -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.582M18 18.72V7.5M18 18.72v-3.238M18 18.72v3.238m0-3.238a3 3 0 0 1-3-3V7.5a3 3 0 0 1 6 0v8.22a3 3 0 0 1-3 3Z M10.5 11.25v-3.238M10.5 11.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 6 0v.009m-6 3.23m0 0a3 3 0 0 0-3 3v3.23m0 0v3.23m0 0a3 3 0 0 0 3 3v-3.23m0 0c-1.657 0-3-1.343-3-3V7.5a3 3 0 0 1 3-3h.008v3.238" />
                    </svg>                      
                 </div>
                 <span class="management-card-title">Manage Users</span>
                 <p class="management-card-subtitle">View, edit, or delete users</p>
            </a>

            <!-- Manage Listings Link Card -->
            <a href="/admin/listings" class="management-card listings">
                <div class="management-icon-wrapper">
                    <!-- Heroicon: Building Library -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c.504 0 1.002-.016 1.49-.046M12 21c-.504 0-1.002-.016-1.49-.046M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0v6m0-6v-6m0 6H9.75M12 15H14.25m-4.5 0H9.75m4.5 0v.008" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.28 11.47a.75.75 0 0 0-1.06 1.06l1.06-1.06ZM11.47 3.28a.75.75 0 0 0-1.06-1.06l1.06 1.06ZM20.72 11.47a.75.75 0 0 0 1.06 1.06l-1.06-1.06ZM12.53 20.72a.75.75 0 0 0 1.06-1.06l-1.06 1.06ZM10.47 3.28a.75.75 0 0 0-1.06 1.06l1.06-1.06ZM3.28 12.53a.75.75 0 0 0 1.06-1.06l-1.06 1.06ZM11.47 20.72a.75.75 0 0 0 1.06 1.06l-1.06-1.06ZM20.72 12.53a.75.75 0 0 0-1.06-1.06l1.06 1.06ZM4.34 4.34a.75.75 0 0 0 1.06 1.06l-1.06-1.06ZM1.06 11.47a.75.75 0 0 0-1.06-1.06l1.06 1.06ZM4.34 19.66a.75.75 0 0 0 1.06-1.06l-1.06 1.06ZM10.47 20.72a.75.75 0 0 0 1.06 1.06l-1.06-1.06ZM19.66 19.66a.75.75 0 0 0 1.06 1.06l-1.06-1.06ZM22.94 11.47a.75.75 0 0 0-1.06-1.06l1.06 1.06ZM19.66 4.34a.75.75 0 0 0-1.06 1.06l1.06-1.06ZM13.53 3.28a.75.75 0 0 0-1.06-1.06l1.06 1.06Z" />
                    </svg>
                </div>
                <span class="management-card-title">Manage Listings</span>
                <p class="management-card-subtitle">Approve, feature, or remove listings</p>
           </a>

            <!-- Manage Bookings Link Card -->
            <a href="/admin/bookings" class="management-card bookings">
                <div class="management-icon-wrapper">
                    <!-- Heroicon: Clipboard Document List -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h.008v.008H16.5V8.25Zm-8.25 0h.008v.008H8.25V8.25Z" />
                    </svg>
                </div>
                <span class="management-card-title">Manage Bookings</span>
                <p class="management-card-subtitle">Oversee, confirm, or cancel bookings</p>
            </a>
        </div>

    </div>
</div>

